# VXLAN arcade network test context
# Tests VXLAN overlay support for stretched Layer 2 networks
#
# This validates:
# - VXLAN tunnel creation with VNI, remote, and source-address
# - Bridge interface configuration with multiple members
# - Bridge IP address assignment (not on the physical interface)
# - Bridged interfaces do NOT receive IP addresses
# - Command ordering: VXLAN tunnels before bridges
#
# Simulates an arcade router (HQ) connecting to Store 37 and Store 114
# via VXLAN tunnels over GRE-encapsulated WAN connections.

HOSTNAME="test-vxlan-arcade"
ONECONTEXT_MODE="stateless"

# Management interface (eth0) - auto-configured by OpenNebula OOB
ETH0_IP="10.2.6.36"
ETH0_MASK="255.255.255.0"
ETH0_VROUTER_MANAGEMENT="YES"

# WAN interface (eth1) - GRE tunnel endpoint
ETH1_IP="10.129.17.1"
ETH1_MASK="255.255.255.252"

# Arcade local interface (eth2) - bridged, should NOT get an IP applied
# The IP will be on the bridge (br0) instead
# Note: We still define ETH2_IP so the interface is parsed, but the
# InterfaceGenerator will skip IP assignment because eth2 is a bridge member
ETH2_IP="0.0.0.0"
ETH2_MASK="255.255.255.255"
ETH2_MAC="52:54:00:ab:cd:02"

# Additional interface (eth3) - normal IP assignment
ETH3_IP="192.168.1.1"
ETH3_MASK="255.255.255.0"

# VXLAN configuration
# - Two VXLAN tunnels to remote stores
# - Bridge grouping eth2 + both VXLAN tunnels
# - Bridge gets the arcade network IP (172.22.1.1/16)
VXLAN_JSON='{"tunnels":[{"name":"vxlan0","vni":100,"remote":"100.65.1.37","source_address":"100.65.1.36","description":"Tunnel to Store 37"},{"name":"vxlan1","vni":101,"remote":"100.65.1.115","source_address":"100.65.1.36","description":"Tunnel to Store 114"}],"bridges":[{"name":"br0","address":"172.22.1.1/16","members":["eth2","vxlan0","vxlan1"],"description":"Arcade network"}]}'

# Static routes for GRE tunnel remote VTEPs
# Note: In production these would be through GRE tunnels, but for testing
# we use simple static routes that validate the ROUTES_JSON parsing works
# alongside VXLAN_JSON
ROUTES_JSON='{"static":[{"interface":"eth1","destination":"100.65.1.0/24","gateway":"10.129.17.2"}]}'
