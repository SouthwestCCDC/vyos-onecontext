# VRF with routing test context
# Tests combined functionality of management VRF + static routes + OSPF
#
# This validates:
# - Management VRF with interface assignment
# - Static routes in management VRF
# - OSPF on data plane (not in management VRF)
# - Proper isolation between management and data plane routing
#
# Note: In QEMU single-VM tests with one NIC, we use aliases to simulate
# multiple interfaces. OSPF won't form adjacencies but commands should be correct.

HOSTNAME="test-vrf-routing"
SSH_PUBLIC_KEY="ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIC+Z0iQ4AaHmgc9OWxSBKJnkXtOa57N0AVMv8cJYWi+F test@integration"
ONECONTEXT_MODE="stateless"

# Management interface in VRF
ETH0_IP="192.168.122.60"
ETH0_MASK="255.255.255.0"
ETH0_GATEWAY="192.168.122.1"
ETH0_VROUTER_MANAGEMENT="YES"

# Data interface for OSPF (use alias since QEMU has single NIC)
ETH0_ALIAS0_IP="10.0.0.1"
ETH0_ALIAS0_MASK="255.255.255.0"

# Static routes in management VRF
# Route to internal management subnet via management gateway through eth0
ROUTES_JSON='{"static":[{"interface":"eth0","destination":"10.10.0.0/16","gateway":"192.168.122.254","vrf":"management"}]}'

# OSPF on data plane (not management VRF)
# Router ID set to data plane IP, eth0 in area 0
# Note: eth0 is in management VRF but also participates in OSPF on data plane
OSPF_JSON='{"enabled":true,"router_id":"10.0.0.1","interfaces":[{"name":"eth0","area":"0.0.0.0"}]}'
