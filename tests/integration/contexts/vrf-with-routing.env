# VRF with routing test context
# Tests combined functionality of management VRF + static routes
#
# This validates:
# - Management VRF with interface assignment
# - Static routes in management VRF
# - Proper isolation between management and data plane routing
#
# Note: OSPF is NOT tested here due to single-NIC limitation.
# Since eth0 is in the management VRF, OSPF cannot be configured
# on any interface. VyOS rejects OSPF with only router-id and no
# interfaces, so OSPF is disabled in this test.

HOSTNAME="test-vrf-routing"
ONECONTEXT_MODE="stateless"

# Management interface in VRF
ETH0_IP="192.168.122.60"
ETH0_MASK="255.255.255.0"
ETH0_GATEWAY="192.168.122.1"
ETH0_VROUTER_MANAGEMENT="YES"

# Data interface for OSPF (use alias since QEMU has single NIC)
ETH0_ALIAS0_IP="10.0.0.1"
ETH0_ALIAS0_MASK="255.255.255.0"

# Static routes in management VRF
# Route to internal management subnet via management gateway through eth0
ROUTES_JSON='{"static":[{"interface":"eth0","destination":"10.10.0.0/16","gateway":"192.168.122.254","vrf":"management"}]}'

# OSPF disabled - cannot configure with no interfaces
# Since eth0 is in management VRF, there are no interfaces available for OSPF
# VyOS rejects OSPF configuration with only router-id and no interfaces
OSPF_JSON='{"enabled":false}'
