# VRF-based relay test context
# Tests relay contextualization: VRF, PBR, netmap NAT, proxy-ARP, static routes
#
# Requires 3 NICs (eth0, eth1, eth2) in the QEMU VM.
# eth0: management interface
# eth1: relay ingress (facing scoring engine)
# eth2: relay egress (facing target network)

HOSTNAME="test-relay"
ONECONTEXT_MODE="stateless"

# Management interface
ETH0_IP="192.168.122.50"
ETH0_MASK="255.255.255.0"
ETH0_GATEWAY="192.168.122.1"
ETH0_VROUTER_MANAGEMENT="YES"

# Relay ingress interface (scoring engine side)
ETH1_IP="10.40.0.1"
ETH1_MASK="255.255.0.0"

# Relay egress interface (target network side)
ETH2_IP="192.168.100.1"
ETH2_MASK="255.255.255.0"

# Relay configuration: one pivot, one target
# Relay prefix 10.40.5.0/24 maps to target 192.168.5.0/24 via gateway 192.168.100.254
RELAY_JSON='{"ingress_interface":"eth1","pivots":[{"egress_interface":"eth2","targets":[{"relay_prefix":"10.40.5.0/24","target_prefix":"192.168.5.0/24","gateway":"192.168.100.254"}]}]}'
